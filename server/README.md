# Release Statistics API Server

GitHub λ¦΄λ¦¬μ¦ ν†µκ³„ λ¶„μ„μ„ μ„ν• Fastify κΈ°λ° λ°±μ—”λ“ μ„λ²„μ…λ‹λ‹¤.

## μ£Όμ” κΈ°λ¥

### 1. κΈ°λ³Έ λ¦΄λ¦¬μ¦ ν†µκ³„ API

- **GET** `/api/releases/stats` - ν†µν•© CSV ν•νƒμ λ¦΄λ¦¬μ¦ ν†µκ³„ μ΅°ν
- ν‰μΌ κΈ°μ¤€ ν†µκ³„ κ³„μ‚° (μ£Όλ§ μ μ™Έ)
- μ €μ¥μ†λ³„, μ—°κ°„, μ£Όκ°„, μΌκ°„ ν†µκ³„ μ κ³µ

### 2. Raw λ°μ΄ν„° λ€μ‹λ³΄λ“ API β¨ **NEW**

μƒμ„Έν• λ¶„μ„μ„ μ„ν• μ›μ‹ λ°μ΄ν„° κΈ°λ° λ€μ‹λ³΄λ“ μ‹μ¤ν…

#### π“ λ€μ‹λ³΄λ“ μ—”λ“ν¬μΈνΈλ“¤

| μ—”λ“ν¬μΈνΈ                        | μ„¤λ…                 | μ£Όμ” κΈ°λ¥                                  |
| --------------------------------- | -------------------- | ------------------------------------------ |
| `GET /api/dashboard`              | μ „μ²΄ λ€μ‹λ³΄λ“ λ°μ΄ν„° | λ©”νΈλ¦­, Raw λ°μ΄ν„°, μ§‘κ³„, μ‹κ³„μ—΄ λ¨λ“  μ •λ³΄ |
| `GET /api/dashboard/raw`          | Raw λ°μ΄ν„°λ§ μ΅°ν    | νμ΄μ§€λ„¤μ΄μ… μ§€μ›, ν•„ν„°λ§ κ°€λ¥             |
| `GET /api/dashboard/metrics`      | μ£Όμ” λ©”νΈλ¦­λ§ μ΅°ν   | κ²½λ‰ν™”λ μ‘λ‹µ, ν•µμ‹¬ μ§€ν‘                   |
| `GET /api/dashboard/aggregations` | μ§‘κ³„ λ°μ΄ν„°λ§ μ΅°ν   | μ €μ¥μ†λ³„, λ‚ μ§λ³„, μ”μΌλ³„ λ“± μ§‘κ³„           |
| `GET /api/dashboard/timeseries`   | μ‹κ³„μ—΄ λ°μ΄ν„°λ§ μ΅°ν | μ°¨νΈμ© μ‹κ°„λ³„ λ°μ΄ν„°                       |

#### π” Raw λ°μ΄ν„° μ»¬λΌ κµ¬μ΅°

**κΈ°λ³Έ μ‹λ³„ μ •λ³΄**

- `id`: κ³ μ  ID (repo_tag_timestamp μ΅°ν•©)
- `repo_name`: μ €μ¥μ† μ΄λ¦„
- `repo_owner`: μ €μ¥μ† μ†μ μ (daangn)
- `tag_name`: λ¦΄λ¦¬μ¦ νƒκ·Έ (v1.0.0)
- `release_name`: λ¦΄λ¦¬μ¦ μ΄λ¦„/μ λ©

**μ‹κ°„ κ΄€λ ¨ λ°μ΄ν„°**

- `published_at`: μ›λ³Έ λ°ν–‰μΌμ‹ (ISO string)
- `published_timestamp`: Unix timestamp
- `published_date`: YYYY-MM-DD ν•μ‹
- `published_time`: HH:MM:SS ν•μ‹
- `published_year`, `published_month`, `published_day`: μ—°/μ›”/μΌ
- `published_quarter`: λ¶„κΈ° (1-4)
- `published_week_number`: μ—°μ¤‘ μ£Όμ°¨ (1-53)
- `published_iso_week`: ISO μ£Όμ°¨ (YYYY-WW)
- `published_day_of_week`: μ”μΌ (0=μΌμ”μΌ, 6=ν† μ”μΌ)
- `published_day_name`: μ”μΌλ… (Monday, Tuesday, ...)
- `published_month_name`: μ›”λ… (January, February, ...)

**κ·Όλ¬΄μΌ/μ£Όλ§ λ¶„λ¥**

- `is_weekend`: μ£Όλ§ λ¦΄λ¦¬μ¦ μ—¬λ¶€
- `is_holiday`: κ³µν΄μΌ λ¦΄λ¦¬μ¦ μ—¬λ¶€ (ν–¥ν›„ ν™•μ¥)
- `work_day_type`: κ·Όλ¬΄μΌ νƒ€μ… ('WEEKDAY' | 'WEEKEND' | 'HOLIDAY')

**λ¦΄λ¦¬μ¦ λ©”νƒ€λ°μ΄ν„°**

- `release_body`: λ¦΄λ¦¬μ¦ λ…ΈνΈ λ‚΄μ©
- `release_body_length`: λ¦΄λ¦¬μ¦ λ…ΈνΈ κΈΈμ΄
- `has_release_notes`: λ¦΄λ¦¬μ¦ λ…ΈνΈ μ΅΄μ¬ μ—¬λ¶€
- `release_type`: λ¦΄λ¦¬μ¦ νƒ€μ… (major, minor, patch, pre-release)
- `version_major`, `version_minor`, `version_patch`: λ²„μ „ λ²νΈ
- `is_prerelease`: μ‚¬μ „ λ¦΄λ¦¬μ¦ μ—¬λ¶€
- `is_draft`: λ“λν”„νΈ μ—¬λ¶€

**μ‹κ°„ κ°„κ²© λ¶„μ„μ© λ°μ΄ν„°**

- `days_since_last_release`: μ΄μ „ λ¦΄λ¦¬μ¦λ΅λ¶€ν„° κ²½κ³ΌμΌ
- `days_since_first_release`: μ²« λ¦΄λ¦¬μ¦λ΅λ¶€ν„° κ²½κ³ΌμΌ
- `days_until_next_release`: λ‹¤μ λ¦΄λ¦¬μ¦κΉμ§€ μΌμ
- `release_sequence_number`: μ €μ¥μ† λ‚΄ λ¦΄λ¦¬μ¦ μλ²
- `total_releases_in_repo`: μ €μ¥μ† μ΄ λ¦΄λ¦¬μ¦ μ

**μ»¨ν…μ¤νΈ μ •λ³΄**

- `same_day_releases`: κ°™μ€ λ‚  λ‹¤λ¥Έ μ €μ¥μ† λ¦΄λ¦¬μ¦ μ
- `same_week_releases`: κ°™μ€ μ£Ό λ‹¤λ¥Έ μ €μ¥μ† λ¦΄λ¦¬μ¦ μ
- `same_month_releases`: κ°™μ€ λ‹¬ λ‹¤λ¥Έ μ €μ¥μ† λ¦΄λ¦¬μ¦ μ

**ν¨ν„΄ λ¶„μ„μ©**

- `hour_of_day`: μ‹κ°„ (0-23)
- `time_period`: μ‹κ°„λ€ κµ¬λ¶„ ('MORNING' | 'AFTERNOON' | 'EVENING' | 'NIGHT')
- `is_month_start`: μ›”μ΄ λ¦΄λ¦¬μ¦ μ—¬λ¶€ (1-7μΌ)
- `is_month_end`: μ›”λ§ λ¦΄λ¦¬μ¦ μ—¬λ¶€ (λ§μ§€λ§‰ 7μΌ)
- `is_year_start`: μ—°μ΄ λ¦΄λ¦¬μ¦ μ—¬λ¶€ (1μ›”)
- `is_year_end`: μ—°λ§ λ¦΄λ¦¬μ¦ μ—¬λ¶€ (12μ›”)

**μ§‘κ³„μ© ν‚¤λ“¤**

- `date_key`: YYYYMMDD ν•μ‹ ν‚¤
- `week_key`: YYYY-WW ν•μ‹ ν‚¤
- `month_key`: YYYY-MM ν•μ‹ ν‚¤
- `quarter_key`: YYYY-Q# ν•μ‹ ν‚¤
- `year_key`: YYYY ν•μ‹ ν‚¤

#### π›οΈ ν•„ν„°λ§ μµμ…

λ¨λ“  λ€μ‹λ³΄λ“ APIλ” λ‹¤μ μΏΌλ¦¬ νλΌλ―Έν„°λ¥Ό μ§€μ›ν•©λ‹λ‹¤:

| νλΌλ―Έν„°                    | νƒ€μ…    | μ„¤λ…                    | μμ‹                    |
| --------------------------- | ------- | ----------------------- | ----------------------- |
| `repos`                     | string  | μ €μ¥μ† ν•„ν„° (μ½¤λ§ κµ¬λ¶„) | `stackflow,seed-design` |
| `date_from`                 | string  | μ‹μ‘ λ‚ μ§               | `2024-01-01`            |
| `date_to`                   | string  | μΆ…λ£ λ‚ μ§               | `2024-12-31`            |
| `work_day_types`            | string  | κ·Όλ¬΄μΌ νƒ€μ… (μ½¤λ§ κµ¬λ¶„) | `WEEKDAY,WEEKEND`       |
| `release_types`             | string  | λ¦΄λ¦¬μ¦ νƒ€μ… (μ½¤λ§ κµ¬λ¶„) | `major,minor,patch`     |
| `time_periods`              | string  | μ‹κ°„λ€ (μ½¤λ§ κµ¬λ¶„)      | `MORNING,AFTERNOON`     |
| `include_prereleases`       | boolean | μ‚¬μ „ λ¦΄λ¦¬μ¦ ν¬ν•¨ μ—¬λ¶€   | `true`                  |
| `include_drafts`            | boolean | λ“λν”„νΈ ν¬ν•¨ μ—¬λ¶€      | `false`                 |
| `min_days_between_releases` | integer | μµμ† λ¦΄λ¦¬μ¦ κ°„κ²© (μΌ)   | `7`                     |
| `max_days_between_releases` | integer | μµλ€ λ¦΄λ¦¬μ¦ κ°„κ²© (μΌ)   | `30`                    |

#### π“„ νμ΄μ§€λ„¤μ΄μ… (Raw λ°μ΄ν„° μ „μ©)

`/api/dashboard/raw` μ—”λ“ν¬μΈνΈλ” μ¶”κ°€λ΅ νμ΄μ§€λ„¤μ΄μ…μ„ μ§€μ›ν•©λ‹λ‹¤:

| νλΌλ―Έν„° | νƒ€μ…    | κΈ°λ³Έκ°’ | μ„¤λ…                        |
| -------- | ------- | ------ | --------------------------- |
| `page`   | integer | 1      | νμ΄μ§€ λ²νΈ                 |
| `limit`  | integer | 50     | νμ΄μ§€λ‹Ή ν•­λ© μ (μµλ€ 200) |

#### π“ μ‘λ‹µ μμ‹

**λ©”νΈλ¦­ μ‘λ‹µ**

```json
{
  "success": true,
  "data": {
    "summary_metrics": [
      {
        "name": "Total Releases",
        "description": "μ „μ²΄ λ¦΄λ¦¬μ¦ μ",
        "value": 60,
        "unit": "κ°",
        "format": "number"
      },
      {
        "name": "Weekday Release Rate",
        "description": "ν‰μΌ λ¦΄λ¦¬μ¦ λΉ„μ¨",
        "value": 100,
        "unit": "%",
        "format": "percentage"
      }
    ],
    "data_freshness": {
      "last_updated": "2024-06-08T17:20:00Z",
      "data_range": {
        "earliest_release": "2023-01-01",
        "latest_release": "2024-06-03"
      }
    }
  }
}
```

**μ§‘κ³„ λ°μ΄ν„° μ‘λ‹µ**

```json
{
  "success": true,
  "data": {
    "by_repo": [
      { "key": "stackflow", "value": 30, "percentage": 50.0 },
      { "key": "seed-design", "value": 30, "percentage": 50.0 }
    ],
    "by_day_of_week": [
      { "key": "Tuesday", "value": 15, "percentage": 25.0 },
      { "key": "Wednesday", "value": 12, "percentage": 20.0 }
    ]
  }
}
```

## κΈ°μ  μ¤νƒ

- **Runtime**: Node.js 24+
- **Framework**: Fastify (κ³ μ„±λ¥ μ›Ή ν”„λ μ„μ›ν¬)
- **Language**: TypeScript (νƒ€μ… μ•μ „μ„±)
- **Database**: SQLite (Drizzle ORM)
- **Testing**: Vitest (40κ° ν…μ¤νΈ μΌ€μ΄μ¤, 100% ν†µκ³Ό)
- **Mocking**: μ™Έλ¶€ API μμ΅΄μ„± μ κ±°ν• μ•μ •μ  ν…μ¤νΈ ν™κ²½
- **API Documentation**: Swagger/OpenAPI

## μ„¤μΉ λ° μ‹¤ν–‰

```bash
# μμ΅΄μ„± μ„¤μΉ
npm install

# κ°λ° μ„λ²„ μ‹¤ν–‰
npm run dev

# ν”„λ΅λ•μ… λΉλ“
npm run build

# ν”„λ΅λ•μ… μ„λ²„ μ‹¤ν–‰
npm start

# ν…μ¤νΈ μ‹¤ν–‰
npm test
```

## API λ¬Έμ„

μ„λ²„ μ‹¤ν–‰ ν›„ λ‹¤μ URLμ—μ„ Swagger λ¬Έμ„λ¥Ό ν™•μΈν•  μ μμµλ‹λ‹¤:

- http://localhost:3000/documentation

## ν™κ²½ λ³€μ

```env
PORT=3000
HOST=0.0.0.0
NODE_ENV=development
LOG_LEVEL=info
CORS_ORIGIN=http://localhost:5173
DATABASE_URL=./database.db
```

## Changelog

### [2025-06-08] ν…μ¤νΈ ν™κ²½ μ•μ •ν™” λ° λ¨ν‚Ή μ‹μ¤ν… κ°μ„  π”§

- **ν…μ¤νΈ μ•μ •ν™”**: λ¨λ“  ν…μ¤νΈ μΌ€μ΄μ¤ μμ • λ° μ•μ •ν™” (40/40 ν†µκ³Ό)
- **Mock μ‹μ¤ν…**: GitHub API fetch λ¨ν‚Ή μ‹μ¤ν… κµ¬μ¶•μΌλ΅ μ™Έλ¶€ μμ΅΄μ„± μ κ±°
- **ν…μ¤νΈ λ°μ΄ν„°**: μ‹¤μ  μ„λΉ„μ¤ λ΅μ§κ³Ό μΌμΉν•λ” ν…μ¤νΈ λ°μ΄ν„° μ •μ •
- **λ²„μ „ νμ‹±**: parseVersion λ΅μ§ κΈ°λ° λ¦΄λ¦¬μ¦ νƒ€μ… λ¶„λ¥ μ •ν™•λ„ ν–¥μƒ
- **λ‚ μ§ μ²λ¦¬**: μ£Όλ§/ν‰μΌ λ¶„λ¥ λ΅μ§μ μ •ν™•μ„± κ²€μ¦ λ° μμ •
- **CI/CD μ¤€λΉ„**: μ•μ •μ μΈ ν…μ¤νΈ ν™κ²½μΌλ΅ μ§€μ†μ  ν†µν•© μ¤€λΉ„ μ™„λ£
- **κ°λ°μ κ²½ν—**: console.error λ¨ν‚ΉμΌλ΅ κΉ”λ”ν• ν…μ¤νΈ μ¶λ ¥ μ κ³µ

### [2025-06-08] Raw λ°μ΄ν„° λ€μ‹λ³΄λ“ μ‹μ¤ν… κµ¬μ¶• β¨

- **μƒλ΅μ΄ κΈ°λ¥**: μƒμ„Έ λ¶„μ„μ„ μ„ν• Raw λ°μ΄ν„° κΈ°λ° λ€μ‹λ³΄λ“ API μ¶”κ°€
- **λ°μ΄ν„° μ»¬λΌ**: 60κ° μ΄μƒμ λ¶„μ„ κ°€λ¥ν• λ°μ΄ν„° ν•„λ“ μ κ³µ
- **ν•„ν„°λ§**: λ‹¤μ–‘ν• μ΅°κ±΄μΌλ΅ λ°μ΄ν„° ν•„ν„°λ§ μ§€μ›
- **μ§‘κ³„**: μ €μ¥μ†λ³„, λ‚ μ§λ³„, μ”μΌλ³„, μ‹κ°„λ€λ³„ λ“± 7κ°€μ§€ μ§‘κ³„ νƒ€μ…
- **μ‹κ³„μ—΄**: μ°¨νΈ μƒμ„±μ„ μ„ν• μ‹κ³„μ—΄ λ°μ΄ν„° μ κ³µ
- **νμ΄μ§€λ„¤μ΄μ…**: Raw λ°μ΄ν„° μ΅°ν μ‹ νμ΄μ§€λ„¤μ΄μ… μ§€μ›
- **λ©”νΈλ¦­**: 6κ° ν•µμ‹¬ μ§€ν‘ μ‹¤μ‹κ°„ κ³„μ‚°
- **API μ—”λ“ν¬μΈνΈ**: 5κ° μ „μ© μ—”λ“ν¬μΈνΈλ΅ μ©λ„λ³„ μµμ ν™”

### [2025-06-08] μ£Όλ§ μ μ™Έ ν†µκ³„ λ¶„μ„ μ‹μ¤ν… λ„μ…

- ν‰μΌ κΈ°μ¤€ ν†µκ³„ κ³„μ‚°μΌλ΅ μ‹¤μ  κ·Όλ¬΄ ν¨ν„΄ λ°μ
- μ£Όλ§(ν† μ”μΌ, μΌμ”μΌ) λ¦΄λ¦¬μ¦λ¥Ό μ£Όμ” ν†µκ³„μ—μ„ μ μ™Έ
- weekendStats κ°μ²΄λ΅ μ£Όλ§ λ¦΄λ¦¬μ¦ λ³„λ„ μ¶”μ  λ° κ΄€λ¦¬
- κ°λ³„ λ¦΄λ¦¬μ¦μ— is_weekend ν”λκ·Έ μ¶”κ°€ (YES/NO)
- CSV ν—¤λ”μ— ν‰μΌ/μ£Όλ§ λ¦΄λ¦¬μ¦ μ λ° λΉ„μ¨ ν‘μ‹
- λ¨λ“  ν†µκ³„ μ„Ήμ…μ— (WEEKDAYS ONLY) λ…μ‹λ΅ λ…ν™•μ„± ν–¥μƒ

### [2025-06-08] ν†µν•© CSV μƒμ„± κΈ°λ¥ μ—…λ°μ΄νΈ

- 5κ° κ°λ³„ CSV νμΌμ„ 1κ° ν†µν•© νμΌλ΅ λ³€κ²½
- μ„Ήμ…λ³„ κµ¬λ¶„λ κµ¬μ΅°λ΅ λ¨λ“  ν†µκ³„ μ •λ³΄ ν¬ν•¨
- API μ‘λ‹µ κµ¬μ΅° λ³€κ²½: csvFilePaths β†’ csvFilePath

### [2025-06-07] ν…μ¤νΈ ν™κ²½ μ¬κµ¬μ΅°ν™”

- μ£Όλ§ μ μ™Έ λ΅μ§ λ°μν• ν…μ¤νΈ μΌ€μ΄μ¤ μμ •
- ISO Week κ²½κ³„ ν…μ¤νΈμ—μ„ μΌμ”μΌ λ¦΄λ¦¬μ¦ μ μ™Έ
- ν‰μΌ/μ£Όλ§ κµ¬λ¶„ κ²€μ¦ ν…μ¤νΈ μ¶”κ°€
- 20κ° ν…μ¤νΈ μΌ€μ΄μ¤λ΅ ν™•μ¥

### [2025-06-06] λ‹¤μ¤‘ CSV νμΌ μƒμ„± μ‹μ¤ν…

- 5κ° μΉ΄ν…κ³ λ¦¬λ³„ CSV νμΌ μƒμ„± κΈ°λ¥
- μƒμ„Έ λ¦΄λ¦¬μ¦ μ •λ³΄, μ—°κ°„/μ£Όκ°„/μΌκ°„ ν†µκ³„, μ €μ¥μ† ν†µκ³„
- νμΌ κ²½λ΅ λ°°μ—΄ λ°ν™μΌλ΅ λ‹¤μ΄λ΅λ“ μ§€μ›

### [2025-06-05] Vitest ν…μ¤νΈ μ‹μ¤ν… κµ¬μ¶•

- 19κ° ν…μ¤νΈ μΌ€μ΄μ¤λ΅ ν•µμ‹¬ κΈ°λ¥ κ²€μ¦
- GitHub API λ¨ν‚Ή λ° ν†µκ³„ κ³„μ‚° λ΅μ§ ν…μ¤νΈ
- CI/CD μ¤€λΉ„λ¥Ό μ„ν• ν…μ¤νΈ μλ™ν™”

### [2025-06-04] Release Statistics API λ°±μ—”λ“ κ°λ°

- Fastify κΈ°λ° κ³ μ„±λ¥ API μ„λ²„ κµ¬μ¶•
- GitHub API μ—°λ™μΌλ΅ μ‹¤μ‹κ°„ λ¦΄λ¦¬μ¦ λ°μ΄ν„° μμ§‘
- λ‹¤μ–‘ν• ν†µκ³„ μ§€ν‘ κ³„μ‚° λ° μ κ³µ

### [2025-06-03] ν”„λ΅μ νΈ μ΄κΈ° μ„¤μ •

- TypeScript + Fastify ν”„λ΅μ νΈ κµ¬μ΅° μ„¤κ³„
- Drizzle ORMμ„ ν™μ©ν• λ°μ΄ν„°λ² μ΄μ¤ μ„¤μ •
- κ°λ° ν™κ²½ λ° λΉλ“ μ‹μ¤ν… κµ¬μ„±

## λ°μ΄ν„° μΈμ‚¬μ΄νΈ

ν„μ¬ daangn μ΅°μ§μ λ¦΄λ¦¬μ¦ ν¨ν„΄ λ¶„μ„ κ²°κ³Ό:

- **μ΄ 60κ° λ¦΄λ¦¬μ¦** (stackflow: 30κ°, seed-design: 30κ°)
- **100% ν‰μΌ λ¦΄λ¦¬μ¦** - κ±΄μ „ν• μ›λΌλ°Έ λ¬Έν™” ν™•μΈ β¨
- **2024λ…„ ν™λ°λ„**: μ§€μ†μ μΈ λ¦΄λ¦¬μ¦ ν¨ν„΄ μ μ§€
- **ν‰κ·  λ¦΄λ¦¬μ¦ κ°„κ²©**: μ•½ 5μΌ
- **ν…μ¤νΈ μ»¤λ²„λ¦¬μ§€**: 40κ° ν…μ¤νΈ μΌ€μ΄μ¤λ΅ 100% ν†µκ³Όμ¨ λ‹¬μ„±
- **API μ„±λ¥**: 5κ° μ „μ© μ—”λ“ν¬μΈνΈλ΅ μ©λ„λ³„ μµμ ν™”

## λΌμ΄μ„ μ¤

MIT License
